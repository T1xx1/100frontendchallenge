---
import uis from "~/content/uis.json";

import Base from "~/layouts/base.astro";

import Card from '~/components/card.astro';
import Counter from '~/components/counter.astro';
import H3 from '~/components/h3.astro';
import Link from '~/components/link.astro';
import Title from '~/components/title.astro';
---

<Base styles="flex flex-col space-y-5">
   <Title />

   <div class="space-y-5">
      <Counter val={uis.length} />

      <!-- uis -->
      <div class="flex flex-wrap gap-5 justify-center">
         {
            uis.map(async (uiEntry) => {
               const Component = (
                  await import(
                     `./${uiEntry.id}/component.astro`
                  )
               ).default;

               return (
                  <Card styles="pt-3 w-full md:w-[49%] space-y-3">
                     <H3 styles="text-center">
                        <Link url={`./${uiEntry.id}`}>{uiEntry.title}</Link>
                     </H3>

                     <Component />
                  </Card>
               );
            })
         }
      </div>
   </div>
</Base>